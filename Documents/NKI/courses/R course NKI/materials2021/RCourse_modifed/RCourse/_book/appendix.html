<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Appendix | Using R for data analysis</title>
  <meta name="description" content="This course teaches the basics of R, an open-source and free environment for statistical analyses. In this course we also teach the basics transparent and reproducible research. For this, we teach RMarkdown, a tool to make dynamic reports in R." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Appendix | Using R for data analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This course teaches the basics of R, an open-source and free environment for statistical analyses. In this course we also teach the basics transparent and reproducible research. For this, we teach RMarkdown, a tool to make dynamic reports in R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Appendix | Using R for data analysis" />
  
  <meta name="twitter:description" content="This course teaches the basics of R, an open-source and free environment for statistical analyses. In this course we also teach the basics transparent and reproducible research. For this, we teach RMarkdown, a tool to make dynamic reports in R." />
  



<meta name="date" content="2021-06-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>

<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this course</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#teachers"><i class="fa fa-check"></i>Teachers</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#goals-topics"><i class="fa fa-check"></i>Goals &amp; Topics</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#materials"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#programme"><i class="fa fa-check"></i>Programme</a>
<ul>
<li class="chapter" data-level="0.0.1" data-path="index.html"><a href="index.html#second-nki-edition-june-7th-8th-10th-and-11th-2021"><i class="fa fa-check"></i><b>0.0.1</b> Second NKI edition, June 7th, 8th, 10th, and 11th 2021</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="basics-of-r.html"><a href="basics-of-r.html"><i class="fa fa-check"></i><b>1</b> Basics of R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="basics-of-r.html"><a href="basics-of-r.html#data-sets"><i class="fa fa-check"></i><b>1.1</b> Data sets</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="basics-of-r.html"><a href="basics-of-r.html#pulse"><i class="fa fa-check"></i><b>1.1.1</b> Pulse</a></li>
<li class="chapter" data-level="1.1.2" data-path="basics-of-r.html"><a href="basics-of-r.html#survey"><i class="fa fa-check"></i><b>1.1.2</b> Survey</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basics-of-r.html"><a href="basics-of-r.html#introduction"><i class="fa fa-check"></i><b>1.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="basics-of-r.html"><a href="basics-of-r.html#why-this-course"><i class="fa fa-check"></i><b>1.2.1</b> Why this course?</a></li>
<li class="chapter" data-level="1.2.2" data-path="basics-of-r.html"><a href="basics-of-r.html#what-is-r"><i class="fa fa-check"></i><b>1.2.2</b> What is R?</a></li>
<li class="chapter" data-level="1.2.3" data-path="basics-of-r.html"><a href="basics-of-r.html#r-and-rstudio"><i class="fa fa-check"></i><b>1.2.3</b> R and RStudio</a></li>
<li class="chapter" data-level="1.2.4" data-path="basics-of-r.html"><a href="basics-of-r.html#course-overview"><i class="fa fa-check"></i><b>1.2.4</b> Course overview</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="basics-of-r.html"><a href="basics-of-r.html#basics"><i class="fa fa-check"></i><b>1.3</b> Basics</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="basics-of-r.html"><a href="basics-of-r.html#r-as-a-calculator"><i class="fa fa-check"></i><b>1.3.1</b> R as a calculator</a></li>
<li class="chapter" data-level="1.3.2" data-path="basics-of-r.html"><a href="basics-of-r.html#variables"><i class="fa fa-check"></i><b>1.3.2</b> Variables</a></li>
<li class="chapter" data-level="1.3.3" data-path="basics-of-r.html"><a href="basics-of-r.html#vectors"><i class="fa fa-check"></i><b>1.3.3</b> Vectors</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="basics-of-r.html"><a href="basics-of-r.html#projects-and-scripts"><i class="fa fa-check"></i><b>1.4</b> Projects and scripts</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="basics-of-r.html"><a href="basics-of-r.html#projects"><i class="fa fa-check"></i><b>1.4.1</b> Projects</a></li>
<li class="chapter" data-level="1.4.2" data-path="basics-of-r.html"><a href="basics-of-r.html#reading-data"><i class="fa fa-check"></i><b>1.4.2</b> Reading data</a></li>
<li class="chapter" data-level="1.4.3" data-path="basics-of-r.html"><a href="basics-of-r.html#scripts"><i class="fa fa-check"></i><b>1.4.3</b> Scripts</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="basics-of-r.html"><a href="basics-of-r.html#data-frames-basics"><i class="fa fa-check"></i><b>1.5</b> Data frames (basics)</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="basics-of-r.html"><a href="basics-of-r.html#exploring"><i class="fa fa-check"></i><b>1.5.1</b> Exploring</a></li>
<li class="chapter" data-level="1.5.2" data-path="basics-of-r.html"><a href="basics-of-r.html#extracting"><i class="fa fa-check"></i><b>1.5.2</b> Extracting</a></li>
<li class="chapter" data-level="1.5.3" data-path="basics-of-r.html"><a href="basics-of-r.html#example-data"><i class="fa fa-check"></i><b>1.5.3</b> Example data</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="basics-of-r.html"><a href="basics-of-r.html#basic-data-types"><i class="fa fa-check"></i><b>1.6</b> Basic data types</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="basics-of-r.html"><a href="basics-of-r.html#types"><i class="fa fa-check"></i><b>1.6.1</b> Types</a></li>
<li class="chapter" data-level="1.6.2" data-path="basics-of-r.html"><a href="basics-of-r.html#vector-classes"><i class="fa fa-check"></i><b>1.6.2</b> Vector classes</a></li>
<li class="chapter" data-level="1.6.3" data-path="basics-of-r.html"><a href="basics-of-r.html#character-data"><i class="fa fa-check"></i><b>1.6.3</b> Character data</a></li>
<li class="chapter" data-level="1.6.4" data-path="basics-of-r.html"><a href="basics-of-r.html#factor---categorical-data"><i class="fa fa-check"></i><b>1.6.4</b> Factor - categorical data</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="basics-of-r.html"><a href="basics-of-r.html#functions-and-help-files"><i class="fa fa-check"></i><b>1.7</b> Functions and help files</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="basics-of-r.html"><a href="basics-of-r.html#function-arguments"><i class="fa fa-check"></i><b>1.7.1</b> Function arguments</a></li>
<li class="chapter" data-level="1.7.2" data-path="basics-of-r.html"><a href="basics-of-r.html#other-help-file-aspects"><i class="fa fa-check"></i><b>1.7.2</b> Other help file aspects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-types-part-1.html"><a href="data-types-part-1.html"><i class="fa fa-check"></i><b>2</b> Data types, part 1</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#basic-data-types-cont."><i class="fa fa-check"></i><b>2.1</b> Basic data types (cont.)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#missing-values"><i class="fa fa-check"></i><b>2.1.1</b> Missing values</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#numeric-vectors"><i class="fa fa-check"></i><b>2.1.2</b> Numeric vectors</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#character-vectors"><i class="fa fa-check"></i><b>2.1.3</b> Character vectors</a></li>
<li class="chapter" data-level="2.1.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#logical-vectors"><i class="fa fa-check"></i><b>2.1.4</b> Logical vectors</a></li>
<li class="chapter" data-level="2.1.5" data-path="data-types-part-1.html"><a href="data-types-part-1.html#type-conversions"><i class="fa fa-check"></i><b>2.1.5</b> Type conversions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#vectors-1"><i class="fa fa-check"></i><b>2.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#square-brackets-operator"><i class="fa fa-check"></i><b>2.2.1</b> Square brackets operator</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#other-useful-functions"><i class="fa fa-check"></i><b>2.2.2</b> Other useful functions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#data-frames"><i class="fa fa-check"></i><b>2.3</b> Data frames</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#what-is-a-data-frame"><i class="fa fa-check"></i><b>2.3.1</b> What is a data frame</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#creating"><i class="fa fa-check"></i><b>2.3.2</b> Creating</a></li>
<li class="chapter" data-level="2.3.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#properties"><i class="fa fa-check"></i><b>2.3.3</b> Properties</a></li>
<li class="chapter" data-level="2.3.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#content"><i class="fa fa-check"></i><b>2.3.4</b> Content</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#matrices"><i class="fa fa-check"></i><b>2.4</b> Matrices</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#what-is-a-matrix"><i class="fa fa-check"></i><b>2.4.1</b> What is a matrix</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#creation"><i class="fa fa-check"></i><b>2.4.2</b> Creation</a></li>
<li class="chapter" data-level="2.4.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#dimensions-2"><i class="fa fa-check"></i><b>2.4.3</b> Dimensions</a></li>
<li class="chapter" data-level="2.4.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#settinggetting-names-of-the-columns-and-rows"><i class="fa fa-check"></i><b>2.4.4</b> Setting/getting names of the columns and rows</a></li>
<li class="chapter" data-level="2.4.5" data-path="data-types-part-1.html"><a href="data-types-part-1.html#getting-matrix-elements"><i class="fa fa-check"></i><b>2.4.5</b> Getting matrix elements</a></li>
<li class="chapter" data-level="2.4.6" data-path="data-types-part-1.html"><a href="data-types-part-1.html#useful-matrix-functions"><i class="fa fa-check"></i><b>2.4.6</b> Useful matrix functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-types-part-2.html"><a href="data-types-part-2.html"><i class="fa fa-check"></i><b>3</b> Data types, part 2</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#r-scripts-and-reports-rmarkdown"><i class="fa fa-check"></i><b>3.1</b> R scripts and reports (Rmarkdown)</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#markdown-r-code-markdown-text-formating-language"><i class="fa fa-check"></i><b>3.1.1</b> Markdown : R code + Markdown text formating language</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#features-of-r-markdown"><i class="fa fa-check"></i><b>3.1.2</b> Features of R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#lists"><i class="fa fa-check"></i><b>3.2</b> Lists</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#what-is-a-list"><i class="fa fa-check"></i><b>3.2.1</b> What is a list</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#creation-1"><i class="fa fa-check"></i><b>3.2.2</b> Creation</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#length"><i class="fa fa-check"></i><b>3.2.3</b> Length</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-types-part-2.html"><a href="data-types-part-2.html#getting-names-of-the-elements"><i class="fa fa-check"></i><b>3.2.4</b> Getting names of the elements</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-types-part-2.html"><a href="data-types-part-2.html#getting-a-single-element"><i class="fa fa-check"></i><b>3.2.5</b> Getting a single element</a></li>
<li class="chapter" data-level="3.2.6" data-path="data-types-part-2.html"><a href="data-types-part-2.html#getting-multiple-elements-as-a-list"><i class="fa fa-check"></i><b>3.2.6</b> (*) Getting multiple elements as a list</a></li>
<li class="chapter" data-level="3.2.7" data-path="data-types-part-2.html"><a href="data-types-part-2.html#removing-an-element"><i class="fa fa-check"></i><b>3.2.7</b> (*) Removing an element</a></li>
<li class="chapter" data-level="3.2.8" data-path="data-types-part-2.html"><a href="data-types-part-2.html#adding-an-element"><i class="fa fa-check"></i><b>3.2.8</b> (*) Adding an element</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#basic-statistical-tests"><i class="fa fa-check"></i><b>3.3</b> Basic statistical tests</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#statistical-methods-with-r"><i class="fa fa-check"></i><b>3.3.1</b> Statistical methods with R</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-types-part-2.html"><a href="data-types-part-2.html#regression-and-formula-objects"><i class="fa fa-check"></i><b>3.4</b> Regression and formula objects</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#formula-objects"><i class="fa fa-check"></i><b>3.4.1</b> Formula objects</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#simple-linear-regression"><i class="fa fa-check"></i><b>3.4.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#multiple-regression-and-prediction"><i class="fa fa-check"></i><b>3.4.3</b> Multiple regression and prediction</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-types-part-2.html"><a href="data-types-part-2.html#factors-advanced"><i class="fa fa-check"></i><b>3.5</b> Factors (advanced)</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#factors-revisited"><i class="fa fa-check"></i><b>3.5.1</b> Factors revisited</a></li>
<li class="chapter" data-level="3.5.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#anova-and-regression-with-factors"><i class="fa fa-check"></i><b>3.5.2</b> ANOVA and regression with factors</a></li>
<li class="chapter" data-level="3.5.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#generalized-linear-models-and-survival"><i class="fa fa-check"></i><b>3.5.3</b> (*) Generalized linear models and survival</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="functions.html"><a href="functions.html#user-defined-functions"><i class="fa fa-check"></i><b>4.1</b> User-defined Functions</a></li>
<li class="chapter" data-level="4.2" data-path="functions.html"><a href="functions.html#control-flow-constructs"><i class="fa fa-check"></i><b>4.2</b> (*) Control flow constructs</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="functions.html"><a href="functions.html#sequential-execution"><i class="fa fa-check"></i><b>4.2.1</b> Sequential execution</a></li>
<li class="chapter" data-level="4.2.2" data-path="functions.html"><a href="functions.html#conditional-execution-if"><i class="fa fa-check"></i><b>4.2.2</b> Conditional execution: if</a></li>
<li class="chapter" data-level="4.2.3" data-path="functions.html"><a href="functions.html#conditional-execution-ifelse"><i class="fa fa-check"></i><b>4.2.3</b> Conditional execution: if/else</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="functions.html"><a href="functions.html#apply-family-apply-lapply-sapply-tapply"><i class="fa fa-check"></i><b>4.3</b> <code>apply</code> family: apply, lapply, sapply, tapply</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="functions.html"><a href="functions.html#applyx-margin-fun"><i class="fa fa-check"></i><b>4.3.1</b> apply(X, MARGIN, FUN, …)</a></li>
<li class="chapter" data-level="4.3.2" data-path="functions.html"><a href="functions.html#sapplyx-fun"><i class="fa fa-check"></i><b>4.3.2</b> sapply(X, FUN, …)</a></li>
<li class="chapter" data-level="4.3.3" data-path="functions.html"><a href="functions.html#lapplyx-fun-apply-a-function-to-a-listvector"><i class="fa fa-check"></i><b>4.3.3</b> lapply(X, FUN, …) : apply a function to a list/vector</a></li>
<li class="chapter" data-level="4.3.4" data-path="functions.html"><a href="functions.html#tapplyx-index-fun-apply-a-function-to-a-vector-according-to-groups-of-index"><i class="fa fa-check"></i><b>4.3.4</b> tapply(X, INDEX, FUN, …) : apply a function to a vector, according to groups of INDEX</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="functions.html"><a href="functions.html#type-checking"><i class="fa fa-check"></i><b>4.4</b> Type checking</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="functions.html"><a href="functions.html#is.-family-functions"><i class="fa fa-check"></i><b>4.4.1</b> is.* family functions</a></li>
<li class="chapter" data-level="4.4.2" data-path="functions.html"><a href="functions.html#stopwarning"><i class="fa fa-check"></i><b>4.4.2</b> (*) stop(…)/warning(…)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="functions.html"><a href="functions.html#r-programming"><i class="fa fa-check"></i><b>4.5</b> (*) R programming</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="functions.html"><a href="functions.html#general-coding-conventions"><i class="fa fa-check"></i><b>4.5.1</b> General coding conventions</a></li>
<li class="chapter" data-level="4.5.2" data-path="functions.html"><a href="functions.html#finding-installing-and-loading-packages"><i class="fa fa-check"></i><b>4.5.2</b> Finding, installing and loading packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#character-string-processing-pattern-matching"><i class="fa fa-check"></i>Character string processing &amp; Pattern matching</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#learning-goals"><i class="fa fa-check"></i>Learning goals</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#quotes-and-escape-characters-characters-with-special-meaning"><i class="fa fa-check"></i>Quotes and escape characters (characters with special meaning)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#character-string"><i class="fa fa-check"></i>Character string</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#paste-sep-collapse-null"><i class="fa fa-check"></i>paste(…, sep = " ", collapse = NULL):</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#pulse-data-set"><i class="fa fa-check"></i>Pulse data set</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#tolower-toupper-nchar"><i class="fa fa-check"></i>tolower, toupper, nchar</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#split-character-string-strsplitx-split"><i class="fa fa-check"></i>Split character string : strsplit(x, split, …):</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#rbind-cbind-combine-by-rows-or-columns"><i class="fa fa-check"></i>rbind(…), cbind(…) : combine by rows or columns</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#strsplitx-split"><i class="fa fa-check"></i>strsplit(x, split, …)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#do.callwhat-args-execute-function-on-list-of-arguments"><i class="fa fa-check"></i>do.call(what, args, …) : execute function on list of arguments</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#greppattern-x-ignore.case-false-value-false"><i class="fa fa-check"></i>grep(pattern, x, ignore.case = FALSE, value = FALSE, … )</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#greplpattern-x-ignore.case-false"><i class="fa fa-check"></i>grepl(pattern, x, ignore.case = FALSE, …)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#substrx-start-stop-extractreplace-substrings"><i class="fa fa-check"></i>substr(x, start, stop) : extract/replace substrings</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#gsubsubpattern-replacement-x-ignore.case-false"><i class="fa fa-check"></i>gsub/sub(pattern, replacement, x, ignore.case = FALSE, …)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#extra-exercises"><i class="fa fa-check"></i>Extra exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#s3-and-s4-classes"><i class="fa fa-check"></i>S3 and S4 classes</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#learning-goals-1"><i class="fa fa-check"></i>Learning goals</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#objects"><i class="fa fa-check"></i>Objects</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#s3"><i class="fa fa-check"></i>S3</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#s4"><i class="fa fa-check"></i>S4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#making-errors-the-right-way"><i class="fa fa-check"></i>Making errors the right way</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#annoying-errors"><i class="fa fa-check"></i>Annoying errors</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#how-to-correct-annoying-errors"><i class="fa fa-check"></i>How to correct (annoying) errors</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#dangerous-errors"><i class="fa fa-check"></i>Dangerous errors</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#how-to-avoid-dangerous-errors"><i class="fa fa-check"></i>How to avoid (dangerous) errors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#useful-links"><i class="fa fa-check"></i>Useful links</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using R for data analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendix" class="section level1 unnumbered">
<h1>Appendix</h1>
<div id="character-string-processing-pattern-matching" class="section level2 unnumbered">
<h2>Character string processing &amp; Pattern matching</h2>
<div id="learning-goals" class="section level3 unnumbered">
<h3>Learning goals</h3>
<ul>
<li>Character string manipulation : string concatenation,splitting, etc.</li>
<li>Pattern matching and replacement</li>
</ul>
</div>
<div id="quotes-and-escape-characters-characters-with-special-meaning" class="section level3 unnumbered">
<h3>Quotes and escape characters (characters with special meaning)</h3>
<pre><code>\n  newline                   \v    vertical tab
\r  carriage return           \\    backslash \
\t  tab                       \&#39;    ASCII apostrophe &#39;
\b  backspace                 \&quot;    ASCII quotation mark &quot;
\a  alert (bell)              \`    ASCII grave accent (backtick) `
\f  form feed                 \\.   dot (escaped twice ; special meaning in RE)</code></pre>
</div>
<div id="character-string" class="section level3 unnumbered">
<h3>Character string</h3>
<p>Character string or simply <code>character</code>, as it is called in R, is a sequence of characters and a character vector is vector of character strings.</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="appendix.html#cb724-1" aria-hidden="true" tabindex="-1"></a>( cs <span class="ot">&lt;-</span> <span class="st">&quot;This is a character string&quot;</span> ) </span></code></pre></div>
<pre><code>## [1] &quot;This is a character string&quot;</code></pre>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="appendix.html#cb726-1" aria-hidden="true" tabindex="-1"></a>( cv <span class="ot">&lt;-</span> <span class="fu">c</span>(cs, <span class="st">&quot;and this is another !&quot;</span>) )</span></code></pre></div>
<pre><code>## [1] &quot;This is a character string&quot; &quot;and this is another !&quot;</code></pre>
<p>Single and double quotes can be used interchangeably, however, double quotes are preferred.</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="appendix.html#cb728-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;string&quot;</span> </span></code></pre></div>
<pre><code>## [1] &quot;string&quot;</code></pre>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="appendix.html#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;string&#39;</span> </span></code></pre></div>
<pre><code>## [1] &quot;string&quot;</code></pre>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="appendix.html#cb732-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;&#39;strings&#39;&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;&#39;strings&#39;&quot;</code></pre>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="appendix.html#cb734-1" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&quot;string&quot;&#39;</span>   </span></code></pre></div>
<pre><code>## [1] &quot;\&quot;string\&quot;&quot;</code></pre>
<p>Formatting the output with <code>print</code> and <code>cat</code> functions. The function <code>print</code> does more formatting than <code>cat</code>. On the other hand <code>cat</code> interprets escape characters such as whitespaces [\t\n\r,…], note that the behavior will differ depending on the platform. The function <code>cat</code> is useful and often used to print progress and/or debugging information in functions.</p>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="appendix.html#cb736-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>)</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50</code></pre>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="appendix.html#cb738-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>)</span></code></pre></div>
<pre><code>## 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50</code></pre>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="appendix.html#cb740-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;separate</span><span class="sc">\n</span><span class="st">lines&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;separate\nlines&quot;</code></pre>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="appendix.html#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;separate</span><span class="sc">\n</span><span class="st">lines&quot;</span>) </span></code></pre></div>
<pre><code>## separate
## lines</code></pre>
<div class="sourceCode" id="cb744"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb744-1"><a href="appendix.html#cb744-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;column1</span><span class="sc">\t</span><span class="st">column2&quot;</span>) </span></code></pre></div>
<pre><code>## column1  column2</code></pre>
<p>Some useful function:</p>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb746-1"><a href="appendix.html#cb746-1" aria-hidden="true" tabindex="-1"></a>letters</span></code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;
## [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb748"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb748-1"><a href="appendix.html#cb748-1" aria-hidden="true" tabindex="-1"></a>LETTERS</span></code></pre></div>
<pre><code>##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot; &quot;S&quot;
## [20] &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</code></pre>
<div class="sourceCode" id="cb750"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb750-1"><a href="appendix.html#cb750-1" aria-hidden="true" tabindex="-1"></a>month.name</span></code></pre></div>
<pre><code>##  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;May&quot;       &quot;June&quot;     
##  [7] &quot;July&quot;      &quot;August&quot;    &quot;September&quot; &quot;October&quot;   &quot;November&quot;  &quot;December&quot;</code></pre>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="appendix.html#cb752-1" aria-hidden="true" tabindex="-1"></a>month.abb</span></code></pre></div>
<pre><code>##  [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot; &quot;Dec&quot;</code></pre>
</div>
<div id="paste-sep-collapse-null" class="section level3 unnumbered">
<h3>paste(…, sep = " ", collapse = NULL):</h3>
<p>Concatenates one or more vectors into a character vector.</p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="appendix.html#cb754-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Bonnie&quot;</span>,<span class="st">&quot;@&quot;</span>, <span class="st">&quot;lumc.nl&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Bonnie @ lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="appendix.html#cb756-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Travis&quot;</span>,<span class="st">&quot;@&quot;</span>, <span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Travis@lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb758"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb758-1"><a href="appendix.html#cb758-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Travis&quot;</span>, <span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;@&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Travis@lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb760"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb760-1"><a href="appendix.html#cb760-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Travis&quot;</span>, <span class="dv">1</span>,<span class="st">&quot;@&quot;</span>, <span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>) <span class="co"># convert numeric to character </span></span></code></pre></div>
<pre><code>## [1] &quot;Travis1@lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb762"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb762-1"><a href="appendix.html#cb762-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Travis&quot;</span>,<span class="st">&quot;@&quot;</span>,<span class="st">&quot;lumc.nl&quot;</span>,<span class="st">&quot;;&quot;</span>,<span class="st">&quot;Bonnie&quot;</span>,<span class="st">&quot;@&quot;</span>,<span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Travis@lumc.nl;Bonnie@lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb764"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb764-1"><a href="appendix.html#cb764-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">&quot;Bonnie&quot;</span>,<span class="st">&quot;Travis&quot;</span>),<span class="st">&quot;@&quot;</span>, <span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>) <span class="co"># recycling </span></span></code></pre></div>
<pre><code>## [1] &quot;Bonnie@lumc.nl&quot; &quot;Travis@lumc.nl&quot;</code></pre>
<p>Recycling occurs in expressions involving multiple vectors of different sizes. The rule is that smaller vectors are recycled, partially if necessary, as often as possible to match the size of the largest vector.</p>
<div class="sourceCode" id="cb766"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb766-1"><a href="appendix.html#cb766-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">&quot;Bonnie&quot;</span>,<span class="st">&quot;Travis&quot;</span>),<span class="st">&quot;@&quot;</span>, <span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>) </span></code></pre></div>
<pre><code>## [1] &quot;Bonnie@lumc.nl&quot; &quot;Travis@lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb768"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb768-1"><a href="appendix.html#cb768-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">&quot;Bonnie&quot;</span>,<span class="st">&quot;Travis&quot;</span>),<span class="st">&quot;@&quot;</span>, <span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;;&quot;</span>) </span></code></pre></div>
<pre><code>## [1] &quot;Bonnie@lumc.nl;Travis@lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb770"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb770-1"><a href="appendix.html#cb770-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">&quot;Bonnie&quot;</span>,<span class="st">&quot;Travis&quot;</span>), <span class="st">&quot;lumc.nl&quot;</span>, <span class="at">sep=</span><span class="st">&quot;@&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Bonnie@lumc.nl;Travis@lumc.nl&quot;</code></pre>
</div>
<div id="pulse-data-set" class="section level3 unnumbered">
<h3>Pulse data set</h3>
<div class="sourceCode" id="cb772"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb772-1"><a href="appendix.html#cb772-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pulse) </span></code></pre></div>
<pre><code>##            name height weight age gender smokes alcohol exercise ran pulse1
## 1993_A   Bonnie    173     57  18 female     no     yes moderate sat     86
## 1993_B  Melanie    179     58  19 female     no     yes moderate ran     82
## 1993_C Consuelo    167     62  18 female     no     yes     high ran     96
## 1993_D   Travis    195     84  18   male     no     yes     high sat     71
## 1993_E    Lauri    173     64  18 female     no     yes      low sat     90
## 1993_F   George    184     74  22   male     no     yes      low ran     78
##        pulse2 year exercise2 exercise3 height4
## 1993_A     88 1993         I       H.I 170-180
## 1993_B    150 1993         I       H.I 170-180
## 1993_C    176 1993         H       H.I 160-170
## 1993_D     73 1993         H       H.I    180+
## 1993_E     88 1993         L         L 170-180
## 1993_F    141 1993         L         L    180+</code></pre>
<div class="sourceCode" id="cb774"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb774-1"><a href="appendix.html#cb774-1" aria-hidden="true" tabindex="-1"></a>allNames <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(pulse<span class="sc">$</span>name)</span>
<span id="cb774-2"><a href="appendix.html#cb774-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(allNames)</span></code></pre></div>
<pre><code>## [1] &quot;Bonnie&quot;   &quot;Melanie&quot;  &quot;Consuelo&quot; &quot;Travis&quot;   &quot;Lauri&quot;    &quot;George&quot;</code></pre>
<div class="sourceCode" id="cb776"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb776-1"><a href="appendix.html#cb776-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(allNames)</span></code></pre></div>
<pre><code>## [1] 110</code></pre>
<div class="sourceCode" id="cb778"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb778-1"><a href="appendix.html#cb778-1" aria-hidden="true" tabindex="-1"></a>( pulseNames <span class="ot">&lt;-</span> <span class="fu">sample</span>(allNames, <span class="at">size =</span> <span class="dv">5</span>) ) <span class="co"># select randomly 5 names from allNames</span></span></code></pre></div>
<pre><code>## [1] &quot;Ernest&quot;  &quot;Adeline&quot; &quot;John&quot;    &quot;Crystal&quot; &quot;Erik&quot;</code></pre>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="appendix.html#cb780-1" aria-hidden="true" tabindex="-1"></a>domains <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;lumc.nl&quot;</span>, <span class="st">&quot;leidenuniv.nl&quot;</span>, <span class="st">&quot;vumc.nl&quot;</span>)</span>
<span id="cb780-2"><a href="appendix.html#cb780-2" aria-hidden="true" tabindex="-1"></a>emails  <span class="ot">&lt;-</span> <span class="fu">paste</span>(pulseNames,domains, <span class="at">sep=</span><span class="st">&quot;@&quot;</span>) </span>
<span id="cb780-3"><a href="appendix.html#cb780-3" aria-hidden="true" tabindex="-1"></a>emails</span></code></pre></div>
<pre><code>## [1] &quot;Ernest@lumc.nl&quot;        &quot;Adeline@leidenuniv.nl&quot; &quot;John@vumc.nl&quot;         
## [4] &quot;Crystal@lumc.nl&quot;       &quot;Erik@leidenuniv.nl&quot;</code></pre>
</div>
<div id="tolower-toupper-nchar" class="section level3 unnumbered">
<h3>tolower, toupper, nchar</h3>
<div class="sourceCode" id="cb782"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb782-1"><a href="appendix.html#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(emails) <span class="co"># convert to uppercase</span></span></code></pre></div>
<pre><code>## [1] &quot;ERNEST@LUMC.NL&quot;        &quot;ADELINE@LEIDENUNIV.NL&quot; &quot;JOHN@VUMC.NL&quot;         
## [4] &quot;CRYSTAL@LUMC.NL&quot;       &quot;ERIK@LEIDENUNIV.NL&quot;</code></pre>
<div class="sourceCode" id="cb784"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb784-1"><a href="appendix.html#cb784-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(emails) <span class="co"># convert to lowercase</span></span></code></pre></div>
<pre><code>## [1] &quot;ernest@lumc.nl&quot;        &quot;adeline@leidenuniv.nl&quot; &quot;john@vumc.nl&quot;         
## [4] &quot;crystal@lumc.nl&quot;       &quot;erik@leidenuniv.nl&quot;</code></pre>
<div class="sourceCode" id="cb786"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb786-1"><a href="appendix.html#cb786-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(emails)   <span class="co"># nr. of characters in string</span></span></code></pre></div>
<pre><code>## [1] 14 21 12 15 18</code></pre>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="character_strings.tasks.nocode.html#characterVectors">the task(s)</a>, and check your solution(s) <a href="character_strings.tasks.code.html#characterVectors">here</a>.</p>
</blockquote>
<hr />
</div>
<div id="split-character-string-strsplitx-split" class="section level3 unnumbered">
<h3>Split character string : strsplit(x, split, …):</h3>
<p>The <code>strsplit</code> function splits each element of the character vector <code>x</code> by substring <code>split</code> into substrings and returns a list of character vectors as the result.</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="appendix.html#cb788-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="st">&quot;Bonnie@lumc.nl&quot;</span>, <span class="st">&quot;@&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Bonnie&quot;  &quot;lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="appendix.html#cb790-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>( <span class="fu">strsplit</span>(<span class="st">&quot;Bonnie@lumc.nl&quot;</span>, <span class="st">&quot;@&quot;</span>) )</span></code></pre></div>
<pre><code>## [1] &quot;Bonnie&quot;  &quot;lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="appendix.html#cb792-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="fu">c</span>(<span class="st">&quot;Bonnie@lumc.nl&quot;</span>,<span class="st">&quot;Melanie@lumc.nl&quot;</span>), <span class="st">&quot;@&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Bonnie&quot;  &quot;lumc.nl&quot;
## 
## [[2]]
## [1] &quot;Melanie&quot; &quot;lumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb794"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb794-1"><a href="appendix.html#cb794-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="st">&quot;Bonnie@lumc.nl&quot;</span>, <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Bo&quot;       &quot;&quot;         &quot;ie@lumc.&quot; &quot;l&quot;</code></pre>
<div class="sourceCode" id="cb796"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb796-1"><a href="appendix.html#cb796-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(<span class="st">&quot;Bonnie@lumc.nl&quot;</span>, <span class="st">&quot;&quot;</span>) <span class="co"># useful</span></span></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;B&quot; &quot;o&quot; &quot;n&quot; &quot;n&quot; &quot;i&quot; &quot;e&quot; &quot;@&quot; &quot;l&quot; &quot;u&quot; &quot;m&quot; &quot;c&quot; &quot;.&quot; &quot;n&quot; &quot;l&quot;</code></pre>
<div class="sourceCode" id="cb798"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb798-1"><a href="appendix.html#cb798-1" aria-hidden="true" tabindex="-1"></a>userDomains <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(emails,<span class="st">&quot;@&quot;</span>)</span>
<span id="cb798-2"><a href="appendix.html#cb798-2" aria-hidden="true" tabindex="-1"></a>userDomains</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Ernest&quot;  &quot;lumc.nl&quot;
## 
## [[2]]
## [1] &quot;Adeline&quot;       &quot;leidenuniv.nl&quot;
## 
## [[3]]
## [1] &quot;John&quot;    &quot;vumc.nl&quot;
## 
## [[4]]
## [1] &quot;Crystal&quot; &quot;lumc.nl&quot;
## 
## [[5]]
## [1] &quot;Erik&quot;          &quot;leidenuniv.nl&quot;</code></pre>
</div>
<div id="rbind-cbind-combine-by-rows-or-columns" class="section level3 unnumbered">
<h3>rbind(…), cbind(…) : combine by rows or columns</h3>
<div class="sourceCode" id="cb800"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb800-1"><a href="appendix.html#cb800-1" aria-hidden="true" tabindex="-1"></a>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>[1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb802"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb802-1"><a href="appendix.html#cb802-1" aria-hidden="true" tabindex="-1"></a>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>[1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<div class="sourceCode" id="cb804"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb804-1"><a href="appendix.html#cb804-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span></code></pre></div>
<pre><code>     [,1] [,2] [,3]
[1,] &quot;a&quot;  &quot;b&quot;  &quot;c&quot; 
[2,] &quot;A&quot;  &quot;B&quot;  &quot;C&quot; </code></pre>
<div class="sourceCode" id="cb806"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb806-1"><a href="appendix.html#cb806-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span></code></pre></div>
<pre><code>     [,1] [,2]
[1,] &quot;a&quot;  &quot;A&quot; 
[2,] &quot;b&quot;  &quot;B&quot; 
[3,] &quot;c&quot;  &quot;C&quot; </code></pre>
</div>
<div id="strsplitx-split" class="section level3 unnumbered">
<h3>strsplit(x, split, …)</h3>
<div class="sourceCode" id="cb808"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb808-1"><a href="appendix.html#cb808-1" aria-hidden="true" tabindex="-1"></a>userDomains <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(emails,<span class="st">&quot;@&quot;</span>)</span>
<span id="cb808-2"><a href="appendix.html#cb808-2" aria-hidden="true" tabindex="-1"></a>userDomains</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Ernest&quot;  &quot;lumc.nl&quot;
## 
## [[2]]
## [1] &quot;Adeline&quot;       &quot;leidenuniv.nl&quot;
## 
## [[3]]
## [1] &quot;John&quot;    &quot;vumc.nl&quot;
## 
## [[4]]
## [1] &quot;Crystal&quot; &quot;lumc.nl&quot;
## 
## [[5]]
## [1] &quot;Erik&quot;          &quot;leidenuniv.nl&quot;</code></pre>
<div class="sourceCode" id="cb810"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb810-1"><a href="appendix.html#cb810-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(userDomains[[<span class="dv">1</span>]],userDomains[[<span class="dv">2</span>]],userDomains[[<span class="dv">3</span>]],userDomains[[<span class="dv">4</span>]],userDomains[[<span class="dv">5</span>]])</span></code></pre></div>
<pre><code>##      [,1]      [,2]           
## [1,] &quot;Ernest&quot;  &quot;lumc.nl&quot;      
## [2,] &quot;Adeline&quot; &quot;leidenuniv.nl&quot;
## [3,] &quot;John&quot;    &quot;vumc.nl&quot;      
## [4,] &quot;Crystal&quot; &quot;lumc.nl&quot;      
## [5,] &quot;Erik&quot;    &quot;leidenuniv.nl&quot;</code></pre>
</div>
<div id="do.callwhat-args-execute-function-on-list-of-arguments" class="section level3 unnumbered">
<h3>do.call(what, args, …) : execute function on list of arguments</h3>
<div class="sourceCode" id="cb812"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb812-1"><a href="appendix.html#cb812-1" aria-hidden="true" tabindex="-1"></a><span class="fu">do.call</span>(rbind, userDomains) <span class="co"># &lt;=&gt;  rbind(userDomains[[1]],userDomains[[2]],...)</span></span></code></pre></div>
<pre><code>     [,1]      [,2]           
[1,] &quot;Ernest&quot;  &quot;lumc.nl&quot;      
[2,] &quot;Adeline&quot; &quot;leidenuniv.nl&quot;
[3,] &quot;John&quot;    &quot;vumc.nl&quot;      
[4,] &quot;Crystal&quot; &quot;lumc.nl&quot;      
[5,] &quot;Erik&quot;    &quot;leidenuniv.nl&quot;</code></pre>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="character_strings.tasks.nocode.html#strsplit">the task(s)</a>, and check your solution(s) <a href="character_strings.tasks.code.html#strsplit">here</a>.</p>
</blockquote>
<hr />
</div>
<div id="greppattern-x-ignore.case-false-value-false" class="section level3 unnumbered">
<h3>grep(pattern, x, ignore.case = FALSE, value = FALSE, … )</h3>
<p>Search for matches of <code>pattern</code> in strings of character vector <code>x</code>.</p>
<div class="sourceCode" id="cb814"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb814-1"><a href="appendix.html#cb814-1" aria-hidden="true" tabindex="-1"></a>emails</span></code></pre></div>
<pre><code>[1] &quot;Ernest@lumc.nl&quot;        &quot;Adeline@leidenuniv.nl&quot; &quot;John@vumc.nl&quot;         
[4] &quot;Crystal@lumc.nl&quot;       &quot;Erik@leidenuniv.nl&quot;   </code></pre>
<div class="sourceCode" id="cb816"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb816-1"><a href="appendix.html#cb816-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;Dona&quot;</span>, emails)</span></code></pre></div>
<pre><code>integer(0)</code></pre>
<div class="sourceCode" id="cb818"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb818-1"><a href="appendix.html#cb818-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;Dona&quot;</span>, emails, <span class="at">value =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<pre><code>character(0)</code></pre>
<div class="sourceCode" id="cb820"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb820-1"><a href="appendix.html#cb820-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;dona&quot;</span>, emails, <span class="at">value =</span> <span class="cn">TRUE</span>) <span class="co"># case-sensitive</span></span></code></pre></div>
<pre><code>character(0)</code></pre>
<div class="sourceCode" id="cb822"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb822-1"><a href="appendix.html#cb822-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;dona&quot;</span>, emails, <span class="at">value =</span> <span class="cn">TRUE</span>, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>character(0)</code></pre>
<div class="sourceCode" id="cb824"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb824-1"><a href="appendix.html#cb824-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;dona&quot;</span>, emails, <span class="at">value =</span> <span class="cn">TRUE</span>, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>, <span class="at">invert =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>[1] &quot;Ernest@lumc.nl&quot;        &quot;Adeline@leidenuniv.nl&quot; &quot;John@vumc.nl&quot;         
[4] &quot;Crystal@lumc.nl&quot;       &quot;Erik@leidenuniv.nl&quot;   </code></pre>
</div>
<div id="greplpattern-x-ignore.case-false" class="section level3 unnumbered">
<h3>grepl(pattern, x, ignore.case = FALSE, …)</h3>
<p>Same functionality as <code>grep</code> except it returns a logical vector of matches found.</p>
<div class="sourceCode" id="cb826"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb826-1"><a href="appendix.html#cb826-1" aria-hidden="true" tabindex="-1"></a>emails</span></code></pre></div>
<pre><code>[1] &quot;Ernest@lumc.nl&quot;        &quot;Adeline@leidenuniv.nl&quot; &quot;John@vumc.nl&quot;         
[4] &quot;Crystal@lumc.nl&quot;       &quot;Erik@leidenuniv.nl&quot;   </code></pre>
<div class="sourceCode" id="cb828"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb828-1"><a href="appendix.html#cb828-1" aria-hidden="true" tabindex="-1"></a>foundSubject <span class="ot">&lt;-</span> <span class="fu">grepl</span>(<span class="st">&quot;Dona&quot;</span>, emails)</span>
<span id="cb828-2"><a href="appendix.html#cb828-2" aria-hidden="true" tabindex="-1"></a>foundSubject</span></code></pre></div>
<pre><code>[1] FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb830"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb830-1"><a href="appendix.html#cb830-1" aria-hidden="true" tabindex="-1"></a>emails[foundSubject]       <span class="co"># value</span></span></code></pre></div>
<pre><code>character(0)</code></pre>
<div class="sourceCode" id="cb832"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb832-1"><a href="appendix.html#cb832-1" aria-hidden="true" tabindex="-1"></a>emails[ <span class="sc">!</span> foundSubject ]   <span class="co"># invert</span></span></code></pre></div>
<pre><code>[1] &quot;Ernest@lumc.nl&quot;        &quot;Adeline@leidenuniv.nl&quot; &quot;John@vumc.nl&quot;         
[4] &quot;Crystal@lumc.nl&quot;       &quot;Erik@leidenuniv.nl&quot;   </code></pre>
</div>
<div id="substrx-start-stop-extractreplace-substrings" class="section level3 unnumbered">
<h3>substr(x, start, stop) : extract/replace substrings</h3>
<div class="sourceCode" id="cb834"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb834-1"><a href="appendix.html#cb834-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="at">x =</span> <span class="st">&quot;abc&quot;</span>,<span class="at">start =</span> <span class="dv">1</span>,<span class="at">stop =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>[1] &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb836"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb836-1"><a href="appendix.html#cb836-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(<span class="st">&quot;abc&quot;</span>,<span class="dv">1</span>,<span class="fu">nchar</span>(<span class="st">&quot;abc&quot;</span>))</span></code></pre></div>
<pre><code>[1] &quot;abc&quot;</code></pre>
<div class="sourceCode" id="cb838"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb838-1"><a href="appendix.html#cb838-1" aria-hidden="true" tabindex="-1"></a>(abcs <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;abc&quot;</span>,<span class="dv">3</span>))</span></code></pre></div>
<pre><code>[1] &quot;abc&quot; &quot;abc&quot; &quot;abc&quot;</code></pre>
<div class="sourceCode" id="cb840"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb840-1"><a href="appendix.html#cb840-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(abcs,<span class="dv">1</span>,<span class="dv">1</span><span class="sc">:</span><span class="fu">nchar</span>(<span class="st">&quot;abc&quot;</span>))</span></code></pre></div>
<pre><code>[1] &quot;a&quot;   &quot;ab&quot;  &quot;abc&quot;</code></pre>
<div class="sourceCode" id="cb842"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb842-1"><a href="appendix.html#cb842-1" aria-hidden="true" tabindex="-1"></a>(e <span class="ot">&lt;-</span> <span class="fu">head</span>(emails))</span></code></pre></div>
<pre><code>[1] &quot;Ernest@lumc.nl&quot;        &quot;Adeline@leidenuniv.nl&quot; &quot;John@vumc.nl&quot;         
[4] &quot;Crystal@lumc.nl&quot;       &quot;Erik@leidenuniv.nl&quot;   </code></pre>
<div class="sourceCode" id="cb844"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb844-1"><a href="appendix.html#cb844-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(e,<span class="dv">1</span>,<span class="dv">1</span>) </span></code></pre></div>
<pre><code>[1] &quot;E&quot; &quot;A&quot; &quot;J&quot; &quot;C&quot; &quot;E&quot;</code></pre>
<div class="sourceCode" id="cb846"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb846-1"><a href="appendix.html#cb846-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(<span class="fu">substr</span>(e,<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<pre><code>[1] &quot;e&quot; &quot;a&quot; &quot;j&quot; &quot;c&quot; &quot;e&quot;</code></pre>
<div class="sourceCode" id="cb848"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb848-1"><a href="appendix.html#cb848-1" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(e,<span class="dv">1</span>,<span class="dv">1</span>) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">substr</span>(e,<span class="dv">1</span>,<span class="dv">1</span>)) <span class="co"># replace first character with its lowercase</span></span>
<span id="cb848-2"><a href="appendix.html#cb848-2" aria-hidden="true" tabindex="-1"></a>e</span></code></pre></div>
<pre><code>[1] &quot;ernest@lumc.nl&quot;        &quot;adeline@leidenuniv.nl&quot; &quot;john@vumc.nl&quot;         
[4] &quot;crystal@lumc.nl&quot;       &quot;erik@leidenuniv.nl&quot;   </code></pre>
</div>
<div id="gsubsubpattern-replacement-x-ignore.case-false" class="section level3 unnumbered">
<h3>gsub/sub(pattern, replacement, x, ignore.case = FALSE, …)</h3>
<div class="sourceCode" id="cb850"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb850-1"><a href="appendix.html#cb850-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">&quot;@&quot;</span>, <span class="st">&quot;(at)&quot;</span>, emails)</span></code></pre></div>
<pre><code>[1] &quot;Ernest(at)lumc.nl&quot;        &quot;Adeline(at)leidenuniv.nl&quot;
[3] &quot;John(at)vumc.nl&quot;          &quot;Crystal(at)lumc.nl&quot;      
[5] &quot;Erik(at)leidenuniv.nl&quot;   </code></pre>
<div class="sourceCode" id="cb852"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb852-1"><a href="appendix.html#cb852-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="st">&quot;git.lumc.nl&quot;</span>)   <span class="co"># first occurence only </span></span></code></pre></div>
<pre><code>[1] &quot;git\nlumc.nl&quot;</code></pre>
<div class="sourceCode" id="cb854"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb854-1"><a href="appendix.html#cb854-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="st">&quot;git.lumc.nl&quot;</span>) <span class="co"># global: apply to all occurrences </span></span></code></pre></div>
<pre><code>[1] &quot;git\nlumc\nnl&quot;</code></pre>
<div class="sourceCode" id="cb856"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb856-1"><a href="appendix.html#cb856-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>( <span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="st">&quot;git.lumc.nl&quot;</span>) )</span></code></pre></div>
<pre><code>git
lumc
nl</code></pre>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="character_strings.tasks.nocode.html#grep">the task(s)</a>, and check your solution(s) <a href="character_strings.tasks.code.html#grep">here</a>.</p>
</blockquote>
<hr />
</div>
<div id="extra-exercises" class="section level3 unnumbered">
<h3>Extra exercises</h3>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="character_strings.tasks.nocode.html#extra">the task(s)</a>, and check your solution(s) <a href="character_strings.tasks.code.html#extra">here</a>.</p>
</blockquote>
<hr />
</div>
</div>
<div id="s3-and-s4-classes" class="section level2 unnumbered">
<h2>S3 and S4 classes</h2>
<div id="learning-goals-1" class="section level3 unnumbered">
<h3>Learning goals</h3>
<ul>
<li>General understanding of data objects, in particular objects from S3 and S4 classes.<br />
</li>
<li>How to recognize and access S3 and S4 classes
<!-- - Introducing functions `attributes`, `methods` and `isS4` and `pryr` package.  --></li>
</ul>
</div>
<div id="objects" class="section level3 unnumbered">
<h3>Objects</h3>
<ul>
<li>Object is a piece of data with a type (class)</li>
<li>Basic types and precedence
<ul>
<li>NULL &lt; raw &lt; <span style="color:blue"><code>logical &lt; integer &lt; double &lt; character</code></span> &lt; list &lt; expression</li>
<li><code>is.&lt;basic type&gt;</code>, <code>as.&lt;basic type&gt;</code> functions for type test and conversion respectively.</li>
<li><code>typeof</code> function</li>
</ul></li>
<li>Object may be associated to methods/functions (Object Orientation : S3/S4)
<ul>
<li>S3 : ad hoc
<ul>
<li>most objects in <code>base</code> and <code>stats</code> and R core</li>
</ul></li>
<li>S4 : formal/strict
<ul>
<li>e.g. <code>Bioconductor</code></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="s3" class="section level3 unnumbered">
<h3>S3</h3>
<p>Most objects in <code>base</code> and <code>stats</code> are of S3 class and are almost always based on <code>list</code>, but not necessarily.</p>
<div class="sourceCode" id="cb858"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb858-1"><a href="appendix.html#cb858-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">lm</span>(extra <span class="sc">~</span> group, <span class="at">data=</span>sleep)</span>
<span id="cb858-2"><a href="appendix.html#cb858-2" aria-hidden="true" tabindex="-1"></a>res</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = extra ~ group, data = sleep)
## 
## Coefficients:
## (Intercept)       group2  
##        0.75         1.58</code></pre>
<div class="sourceCode" id="cb860"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb860-1"><a href="appendix.html#cb860-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(res)</span></code></pre></div>
<pre><code>## [1] &quot;lm&quot;</code></pre>
<p>You will recognize a S3 class via an explicit attribute <code>class</code>:</p>
<div class="sourceCode" id="cb862"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb862-1"><a href="appendix.html#cb862-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(res)</span></code></pre></div>
<pre><code>## $names
##  [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         
##  [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  
##  [9] &quot;contrasts&quot;     &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;        
## [13] &quot;model&quot;        
## 
## $class
## [1] &quot;lm&quot;</code></pre>
<p>There are many generic functions in R such as <code>print</code>, <code>plot</code>, <code>summary</code> etc. that behave differently based on the class of an object:</p>
<div class="sourceCode" id="cb864"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb864-1"><a href="appendix.html#cb864-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(plot)</span></code></pre></div>
<pre><code>##  [1] plot.aareg*          plot.acf*            plot.correspondence*
##  [4] plot.cox.zph*        plot.data.frame*     plot.decomposed.ts* 
##  [7] plot.default         plot.dendrogram*     plot.density*       
## [10] plot.ecdf            plot.factor*         plot.formula*       
## [13] plot.function        plot.hclust*         plot.histogram*     
## [16] plot.HoltWinters*    plot.isoreg*         plot.lda*           
## [19] plot.lm*             plot.mca*            plot.medpolish*     
## [22] plot.mlm*            plot.ppr*            plot.prcomp*        
## [25] plot.princomp*       plot.profile*        plot.profile.nls*   
## [28] plot.raster*         plot.ridgelm*        plot.shingle*       
## [31] plot.spec*           plot.spline*         plot.stepfun        
## [34] plot.stl*            plot.Surv*           plot.survfit*       
## [37] plot.table*          plot.trellis*        plot.ts             
## [40] plot.tskernel*       plot.TukeyHSD*       plot.xyVector*      
## see &#39;?methods&#39; for accessing help and source code</code></pre>
<!-- Problem of S3 objects is that it can be difficult to find out what kind of functions are available for your object.  -->
</div>
<div id="s4" class="section level3 unnumbered">
<h3>S4</h3>
<p>S4 objects are more structured and more strict than S3 objects. They are not so popular with packages on CRAN, but very popular for packages on Bioconductor. Let’s look at an example from Bioconductor</p>
<div class="sourceCode" id="cb866"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb866-1"><a href="appendix.html#cb866-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;https://bioconductor.org/biocLite.R&quot;</span>)</span>
<span id="cb866-2"><a href="appendix.html#cb866-2" aria-hidden="true" tabindex="-1"></a><span class="fu">biocLite</span>(<span class="fu">c</span>(<span class="st">&quot;graph&quot;</span>, <span class="st">&quot;Rgraphviz&quot;</span>))</span></code></pre></div>
<p>The packages graph and Rgraphviz are for working with graphs and visualizing them.</p>
<div class="sourceCode" id="cb867"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb867-1"><a href="appendix.html#cb867-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;BiocManager&quot;)</span></span>
<span id="cb867-2"><a href="appendix.html#cb867-2" aria-hidden="true" tabindex="-1"></a><span class="co">#BiocManager::install(&quot;Rgraphviz&quot;)</span></span>
<span id="cb867-3"><a href="appendix.html#cb867-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(graph) ; <span class="fu">library</span>(Rgraphviz)</span></code></pre></div>
<div class="sourceCode" id="cb868"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb868-1"><a href="appendix.html#cb868-1" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">randomEGraph</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">edges=</span><span class="dv">6</span>)</span>
<span id="cb868-2"><a href="appendix.html#cb868-2" aria-hidden="true" tabindex="-1"></a>g1</span></code></pre></div>
<pre><code>## A graphNEL graph with undirected edges
## Number of Nodes = 5 
## Number of Edges = 6</code></pre>
<div class="sourceCode" id="cb870"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb870-1"><a href="appendix.html#cb870-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(g1)</span></code></pre></div>
<pre><code>## [1] &quot;graphNEL&quot;
## attr(,&quot;package&quot;)
## [1] &quot;graph&quot;</code></pre>
<div class="sourceCode" id="cb872"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb872-1"><a href="appendix.html#cb872-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g1)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-314-1.png" width="672" /></p>
<p>Note the attr(,“package”) at the bottom. This shows that it is an S4, not an S3 object. To check explicitly</p>
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb873-1"><a href="appendix.html#cb873-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isS4</span>(g1)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>There is no isS3. Things you may expect to work for these objects from S3 don’t:</p>
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb875-1"><a href="appendix.html#cb875-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(g1)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb877-1"><a href="appendix.html#cb877-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getSlots</span>(<span class="st">&#39;graphNEL&#39;</span>) <span class="co"># class name</span></span></code></pre></div>
<pre><code>##        nodes        edgeL     edgeData     nodeData   renderInfo    graphData 
##     &quot;vector&quot;       &quot;list&quot;   &quot;attrData&quot;   &quot;attrData&quot; &quot;renderInfo&quot;       &quot;list&quot;</code></pre>
<p>With S4 object you can directly access the contents with <code>@</code> but you are not meant to:</p>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb879-1"><a href="appendix.html#cb879-1" aria-hidden="true" tabindex="-1"></a>g1<span class="sc">@</span>nodes</span></code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;</code></pre>
<p>There is always a help file for an S4 object which lists all the methods you can use:</p>
<div class="sourceCode" id="cb881"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb881-1"><a href="appendix.html#cb881-1" aria-hidden="true" tabindex="-1"></a>class?graphNEL</span>
<span id="cb881-2"><a href="appendix.html#cb881-2" aria-hidden="true" tabindex="-1"></a>?graphNEL</span></code></pre></div>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="s3s4.tasks.nocode.html#s3s4">the task(s)</a>, and check your solution(s) <a href="s3s4.tasks.code.html#s3s4">here</a>.</p>
</blockquote>
<hr />
</div>
</div>
<div id="making-errors-the-right-way" class="section level2 unnumbered">
<h2>Making errors the right way</h2>
<p>There are two types of programming errors: the annoying ones and the dangerous ones.</p>
<div id="annoying-errors" class="section level3 unnumbered">
<h3>Annoying errors</h3>
<p>These are errors that yield an error message. Such errors can be avoided by including flags in your script, to check that all objects are as they are expected, their classes correspond to what they should be, etc. For example, when reading data into R, it should always be checked what was read, its dimensions, and the variable types. One such useful summary is given by <code>str()</code>:</p>
<div class="sourceCode" id="cb882"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb882-1"><a href="appendix.html#cb882-1" aria-hidden="true" tabindex="-1"></a>pul <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;data/pulse.txt&quot;</span>)</span>
<span id="cb882-2"><a href="appendix.html#cb882-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pul)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    110 obs. of  12 variables:
##  $ name    : chr  &quot;Bonnie&quot; &quot;Melanie&quot; &quot;Consuelo&quot; &quot;Travis&quot; ...
##  $ height  : int  173 179 167 195 173 184 162 169 164 168 ...
##  $ weight  : num  57 58 62 84 64 74 57 55 56 60 ...
##  $ age     : int  18 19 18 18 18 22 20 18 19 23 ...
##  $ gender  : chr  &quot;female&quot; &quot;female&quot; &quot;female&quot; &quot;male&quot; ...
##  $ smokes  : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ alcohol : chr  &quot;yes&quot; &quot;yes&quot; &quot;yes&quot; &quot;yes&quot; ...
##  $ exercise: chr  &quot;moderate&quot; &quot;moderate&quot; &quot;high&quot; &quot;high&quot; ...
##  $ ran     : chr  &quot;sat&quot; &quot;ran&quot; &quot;ran&quot; &quot;sat&quot; ...
##  $ pulse1  : int  86 82 96 71 90 78 68 71 68 88 ...
##  $ pulse2  : int  88 150 176 73 88 141 72 77 68 150 ...
##  $ year    : int  1993 1993 1993 1993 1993 1993 1993 1993 1993 1993 ...</code></pre>
<p>It is also a good idea to make graphs (or tables, if more appropriate) of variables at different stages, to check if values are as expected. In fact, any summary is helpful. Here we could compute the mean for some numeric columns, the 2nd and 3rd ones, in <code>pul</code>:</p>
<div class="sourceCode" id="cb884"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb884-1"><a href="appendix.html#cb884-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(pul[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>], <span class="dv">2</span>, mean)</span></code></pre></div>
<pre><code>##    height    weight 
## 171.58182  66.33182</code></pre>
<p>If you have different objects with same row or column names, it is a good idea to check that this property is preserved as well.</p>
</div>
<div id="how-to-correct-annoying-errors" class="section level3 unnumbered">
<h3>How to correct (annoying) errors</h3>
<p>All the above help us check that things are as they should, but it does not prevent errors from happening. To find the source or an error, it is useful to think “like R”, and to follow what R does step-by-step. This may require splitting some expressions to enable intermediate checking.</p>
<p>Say we want to use a t test to compare the two vectors of pulse, <code>pulse1</code> ans <code>pulse2</code>, from the <code>pul</code> data. We know we can do this by:</p>
<div class="sourceCode" id="cb886"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb886-1"><a href="appendix.html#cb886-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(pul[<span class="st">&quot;pulse1&quot;</span>], pul[<span class="st">&quot;pulse2&quot;</span>])</span></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  pul[&quot;pulse1&quot;] and pul[&quot;pulse2&quot;]
## t = -6.4341, df = 145.16, p-value = 1.693e-09
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -27.59474 -14.62544
## sample estimates:
## mean of x mean of y 
##  75.68807  96.79817</code></pre>
<p>Although the t test works, there is some doubt that the normality assumption holds, so we also run the Wilcoxon test with:</p>
<div class="sourceCode" id="cb888"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb888-1"><a href="appendix.html#cb888-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(pul[<span class="st">&quot;pulse1&quot;</span>], pul[<span class="st">&quot;pulse2&quot;</span>])</span></code></pre></div>
<pre><code>## Error in wilcox.test.default(pul[&quot;pulse1&quot;], pul[&quot;pulse2&quot;]): &#39;x&#39; must be numeric</code></pre>
<p>but this gives an error, complaining that <code>'x' must be numeric</code>. We know that the data was read in correctly from the <code>str()</code> result, so we check the class of the objects involved in the function call:</p>
<div class="sourceCode" id="cb890"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb890-1"><a href="appendix.html#cb890-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>( pul[<span class="st">&quot;pulse1&quot;</span>] )</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Indeed, this sort of selection preserves the object class as <code>data.frame</code>, which is not numeric. If we do instead:</p>
<div class="sourceCode" id="cb892"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb892-1"><a href="appendix.html#cb892-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>( pul[, <span class="st">&quot;pulse1&quot;</span>] )</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>we get a numeric object. So now we try this as argument in the <code>wilcox.test()</code>:</p>
<div class="sourceCode" id="cb894"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb894-1"><a href="appendix.html#cb894-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(pul[, <span class="st">&quot;pulse1&quot;</span>], pul[, <span class="st">&quot;pulse2&quot;</span>])</span></code></pre></div>
<pre><code>## 
##  Wilcoxon rank sum test with continuity correction
## 
## data:  pul[, &quot;pulse1&quot;] and pul[, &quot;pulse2&quot;]
## W = 3740, p-value = 2.278e-06
## alternative hypothesis: true location shift is not equal to 0</code></pre>
<p>and this works.</p>
<p>It is strange as we had used the same syntax as used in the <code>t.test()</code> call. If we look at the help files of these two functions, we notice that the <code>t.test()</code> accepts data.frames as arguments, whilst the <code>wilcox.test()</code> does not.</p>
</div>
<div id="dangerous-errors" class="section level3 unnumbered">
<h3>Dangerous errors</h3>
<p>These are errors that do not yield any error message. Such errors can remain silently in your code for ages (or many lines) before they are discovered.</p>
<p>We return to the example where we wish to compare the heights of students in Amsterdam and of students in Rio. We decide to not use the syntax with square brackets, due to the confusion between selecting columns that are numeric and selecting objects that are data.frames. Instead, we will select the columns using the <code>$</code> sign, which is commonly done with data.frames. So we use:</p>
<div class="sourceCode" id="cb896"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb896-1"><a href="appendix.html#cb896-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(pul<span class="sc">$</span>pulse1, pul<span class="sc">$</span>puse2)</span></code></pre></div>
<pre><code>## 
##  Wilcoxon signed rank test with continuity correction
## 
## data:  pul$pulse1
## V = 5995, p-value &lt; 2.2e-16
## alternative hypothesis: true location is not equal to 0</code></pre>
<p>This seems OK, although the output is slightly different from the one we had above. The syntax used is very clear, though, so there should not be any differences. Just to check the syntax, we now apply the same test pretending it involves paired data (this is possible since the two vectors of heights have the same length).</p>
<div class="sourceCode" id="cb898"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb898-1"><a href="appendix.html#cb898-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(pul<span class="sc">$</span>pulse1, pul<span class="sc">$</span>puse2, <span class="at">paired=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Error in wilcox.test.default(pul$pulse1, pul$puse2, paired = TRUE): &#39;y&#39; is missing for paired test</code></pre>
<p>Now we get an error message, suggesting that ‘y’ is missing and mentioning the paired test, but in fact we have the data to use stated clearly. So we decide to check this once more by using another syntax, now selecting the columns according to their number:</p>
<div class="sourceCode" id="cb900"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb900-1"><a href="appendix.html#cb900-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(pul[, <span class="dv">2</span>], pul[, <span class="dv">3</span>])</span></code></pre></div>
<pre><code>## 
##  Wilcoxon rank sum test with continuity correction
## 
## data:  pul[, 2] and pul[, 3]
## W = 12052, p-value &lt; 2.2e-16
## alternative hypothesis: true location shift is not equal to 0</code></pre>
<p>This now yields the same output as when we used <code>wilcox.test(pul[, "pulse1"], pul[, "pulse2"])</code>, but not as <code>wilcox.test(pul$pulse1, pul$puse2)</code>. What could be going wrong here?</p>
<p>If we check carefully, the variable (column) names in <code>pul</code> are:</p>
<div class="sourceCode" id="cb902"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb902-1"><a href="appendix.html#cb902-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(pul)</span></code></pre></div>
<pre><code>##  [1] &quot;name&quot;     &quot;height&quot;   &quot;weight&quot;   &quot;age&quot;      &quot;gender&quot;   &quot;smokes&quot;  
##  [7] &quot;alcohol&quot;  &quot;exercise&quot; &quot;ran&quot;      &quot;pulse1&quot;   &quot;pulse2&quot;   &quot;year&quot;</code></pre>
<p>So, what does the statement <code>pulse$puse2</code> represent? Check:</p>
<div class="sourceCode" id="cb904"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb904-1"><a href="appendix.html#cb904-1" aria-hidden="true" tabindex="-1"></a>pulse<span class="sc">$</span>puse2</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>It turns out that <code>y=NULL</code> is a valid input for the <code>wilcox.test</code> function. However, it was not what we wanted to do.</p>
</div>
<div id="how-to-avoid-dangerous-errors" class="section level3 unnumbered">
<h3>How to avoid (dangerous) errors</h3>
<p>We all make mistakes, and this does not stop when we are programming/scripting. In fact, this happens more often than we wish when programming, as we are required to write steps precisely but we may overlook internal working differences in functions.</p>
<p>The difference between a beginner and an experienced R user is that the beginner will take longer to sort the error out (typically - I am willing to be proven wrong!). This is partly because a beginner goes through phases like panic (due to the red error message appearing on the screen), followed by frustration (why did this script did not just run? why is this happening to me?), and finally by closing R down and opening Excel instead.</p>
<p>A more experienced R user will, when encountering an error or an unexpected result, first read the error message. This may sometimes give clues as to what is going wrong - although, agreed, not always. Then it is important to try to go back a few steps on the script and check if the objects created were as expected: check <code>class()</code> and object size (via <code>dim()</code>, <code>length()</code> and <code>str()</code> are here useful). If these fail to uncover anything unexpected, check the values contained in objects. Here it is useful to perform checks in small parts of the data, when handling large objects. With data.frames, this can be done via <code>head()</code> and <code>tail()</code>. Also check for the existence of NAs creeping into the objects, via the use of <code>sum()</code> onto a <code>is.na(object)</code>, possibly in combination with apply to yield row or column summaries. Plots are of course also very useful - both scatterplots as well as heatmaps can greatly help uncover strange values/patterns in the data. Retracing steps should continue until objects are found to contain the expected values/have the expected format.</p>
<p>If in the few steps preceding the strange results nothing unexpected is found, then one way to continue searching for the problem source is by “peeling” of the code: this involves splitting the code into ever simpler operations, or re-writing them as we did in the wilcox.test example, and checking if these actions change the output.</p>
<p>What is important for any beginner in R to understand is that error messages are there to help us - by reading them carefully and performing checks we improve our understanding of how specific R functions work, and how they do not work!</p>
</div>
</div>
<div id="useful-links" class="section level2 unnumbered">
<h2>Useful links</h2>
<ul>
<li><a href="http://r4ds.had.co.nz/">R for Data Science</a></li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/">RStudio Cheat Sheets</a></li>
<li><a href="https://git.lumc.nl/courses/gitcourse">LUMC Git course</a></li>
<li><a href="https://github.com/ujjwalkarn/DataScienceR">A curated list of R tutorials for Data Science, NLP and Machine Learning</a></li>
<li><a href="http://www.computerworld.com/article/2921176/business-intelligence/great-r-packages-for-data-import-wrangling-visualization.html">Great R packages for data import, wrangling and visualization</a></li>
<li><a href="https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf">ggplot2: great R package for beautiful plots - cheat sheet</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
